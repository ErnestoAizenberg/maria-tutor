{% extends 'main/base.html' %}

{% block title %}
    {% if error_title %}
        {{ error_title }}
    {% else %}
        {{ error_description|default:"Ошибка" }}
    {% endif %}
{% endblock title %}

{% block content %}
<div class="min-h-screen flex flex-col items-center justify-center px-4 sm:px-6 lg:px-8 hero-gradient">
    <div class="max-w-md w-full space-y-8 text-center">
        <!-- Код ошибки -->
        <div class="relative">
            <h1 class="text-9xl font-bold text-gradient opacity-90 mb-4 tracking-tighter">{{ error_code|default:"500" }}</h1>
            <div class="absolute -inset-4 bg-gradient-to-r from-primary/10 to-secondary/10 rounded-full blur-md opacity-20"></div>
        </div>

        <!-- Заголовок и текст -->
        <div class="space-y-4">
            <h2 class="text-3xl font-bold text-white font-serif">
                {{ error_title|default:"Ошибка сервера" }}
            </h2>
            <p class="text-lg text-text-secondary">
                {{ error_description|default:"Произошла непредвиденная ошибка. Пожалуйста, попробуйте позже." }}
            </p>
        </div>

        <!-- Иконка ошибки -->
        <div class="py-6 text-6xl text-primary/80">
            <i class="{{ error_icon|default:'fas fa-exclamation-triangle' }} transition-all duration-1000 hover:rotate-6 hover:scale-110"></i>
        </div>

        <!-- Кнопки действий -->
        <div class="pt-6 flex flex-col sm:flex-row gap-4 justify-center">
            {% if show_home_button != False %}
            <a href="/" class="btn btn-primary px-8 py-3 text-lg group transition-all duration-300 flex-1 justify-center">
                <i class="fas fa-home mr-2 transition-transform duration-300 group-hover:scale-110"></i>
                {{ home_button_text|default:"На главную" }}
                <i class="fas fa-chevron-right ml-2 opacity-70 group-hover:opacity-100 group-hover:ml-3 transition-all duration-300"></i>
            </a>
            {% endif %}
            
            {% if show_refresh_button != False %}
            <button onclick="window.location.reload()" class="btn btn-outline px-6 py-3 text-lg group transition-all duration-300 flex-1 justify-center">
                <i class="fas fa-redo mr-2 transition-transform duration-300 group-hover:rotate-180"></i>
                {{ refresh_button_text|default:"Обновить" }}
            </button>
            {% endif %}
        </div>

        <!-- Дополнительные ссылки -->
        <div class="pt-8 text-sm text-text-secondary/80">
            <div class="flex flex-col sm:flex-row justify-center items-center space-y-2 sm:space-y-0 sm:space-x-4 pt-2">
                <a href="/search" class="hover:text-primary transition-colors duration-300 flex items-center">
                    <i class="fas fa-search mr-2 text-xs"></i> Поиск по сайту
                </a>
                <span class="text-border hidden sm:inline">•</span>
                <a href="/help" class="hover:text-primary transition-colors duration-300 flex items-center">
                    <i class="fas fa-question-circle mr-2 text-xs"></i> Помощь
                </a>
                <span class="text-border hidden sm:inline">•</span>
                <a href="/contact" class="hover:text-primary transition-colors duration-300 flex items-center">
                    <i class="fas fa-envelope mr-2 text-xs"></i> Контакты
                </a>
            </div>
        </div>
    </div>
</div>

<style>
    .text-gradient {
        background: linear-gradient(135deg,
            rgba(var(--color-primary), 0.9) 0%,
            rgba(var(--color-primary), 0.7) 50%,
            rgba(var(--color-secondary), 0.5) 100%);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        background-size: 200% 200%;
        animation: gradient-shift 12s ease infinite;
    }

    @keyframes gradient-shift {
        0%, 100% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
    }
    
    .btn-outline {
        border: 2px solid rgba(var(--color-primary), 0.3);
        color: rgba(var(--color-primary), 0.9);
        background: transparent;
    }
    
    .btn-outline:hover {
        border-color: rgba(var(--color-primary), 0.7);
        background: rgba(var(--color-primary), 0.1);
    }
</style>
{% endblock %}