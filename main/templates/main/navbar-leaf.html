<nav class="fixed w-full bg-opacity-90 backdrop-blur-md z-50 shadow-sm leaf-navbar" style="background-color: rgba(var(--color-bg-card), 0.9);">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-20 items-center">
            <div class="flex items-center">
                <a href="/" class="flex items-center">
                  {#<span class="text-2xl mr-2 text-primary"><i class="fas fa-leaf" aria-hidden="true"></i></span>#}
                    <span class="font-serif text-xl font-bold">{{ teacher.name|default:'Ваше имя' }}</span>
                </a>
            </div>

            <!-- Desktop menu -->
            <div class="hidden md:flex items-center space-x-8">
                <a href="/about_me" class="nav-link leaf-link">Обо мне</a>
                <a href="/lessons" class="nav-link leaf-link">Уроки</a>
                <a href="/articles" class="nav-link leaf-link">Блог</a>
                <a href="/contacts" class="btn btn-primary leaf-button">Контакты</a>
                <button class="theme-toggle" id="theme-toggle"></button>
            </div>

            <!-- Mobile menu button -->
            <div class="flex items-center md:hidden space-x-4">
                <button class="theme-toggle mr-2" id="theme-toggle-mobile"></button>
                <button class="text-current focus:outline-none" id="mobile-menu-button">
                    <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Mobile menu -->
    <div class="md:hidden hidden shadow-lg leaf-mobile-menu" id="mobile-menu" style="background-color: rgb(var(--color-bg-card));">
        <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
            <a href="/about_me" class="block px-3 py-2 rounded-md hover:bg-opacity-10 hover:bg-white leaf-mobile-link">Обо мне</a>
            <a href="/lessons" class="block px-3 py-2 rounded-md hover:bg-opacity-10 hover:bg-white leaf-mobile-link">Уроки</a>
            <a href="/articles" class="block px-3 py-2 rounded-md hover:bg-opacity-10 hover:bg-white leaf-mobile-link">Блог</a>
            <a href="/contacts" class="block px-3 py-2 rounded-md btn-primary text-center leaf-mobile-button">Контакты</a>
        </div>
    </div>
</nav>

<style>
    .leaf-navbar {
        background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%2342b883' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
        border-bottom: 2px solid #4CAF50;
        /* position: relative; */
    }

    .leaf-navbar::after {
        content: '';
        position: absolute;
        bottom: -10px;
        left: 50%;
        transform: translateX(-50%);
        width: 95%;
        height: 10px;
        background: linear-gradient(180deg, rgba(76, 175, 80, 0.3) 0%, rgba(76, 175, 80, 0) 100%);
        border-radius: 50%;
        filter: blur(2px);
    }

    .leaf-link {
        position: relative;
        padding: 8px 12px;
        transition: all 0.3s ease;
    }

    .leaf-link:hover {
        color: #2E7D32;
    }

    .leaf-link::after {
        content: '';
        position: fixed;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 0;
        height: 2px;
        background: #4CAF50;
        transition: width 0.3s ease;
    }

    .leaf-link:hover::after {
        width: 80%;
    }

    .leaf-button {
        background-color: #4CAF50;
        border: none;
        border-radius: 20px;
        padding: 8px 20px;
        transition: all 0.3s ease;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    .leaf-button:hover {
        background-color: #388E3C;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    }

    .leaf-mobile-menu {
        background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%2342b883' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
    }

    .leaf-mobile-link {
        border-left: 3px solid #4CAF50;
        padding-left: 10px;
        margin: 5px 0;
        transition: all 0.3s ease;
    }

    .leaf-mobile-link:hover {
        background-color: rgba(76, 175, 80, 0.1) !important;
    }

    .leaf-mobile-button {
        background-color: #4CAF50;
        color: white !important;
        margin-top: 10px;
    }
</style>
